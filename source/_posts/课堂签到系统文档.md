---
title: 课堂签到系统文档
tags:
  - 私人文档
originContent: >-
  # 课堂签到系统文档


  ## 写在前面

  本系统后端开发比较简单，但继续开发还是需要至少学习过以下基本知识才能阅读代码。

  ### Spring Boot、JPA

  入门资料：

  [Spring Boot实战][1]

  [慕课的课程][2]

  ### 简单MySQL操作

  ## 配置项目运行环境

  以IDEA举例

  1. 导入项目

  ![image.png](/images/2019/04/06/35a25370-581c-11e9-b771-0953c0a9891c.png)

  ![image.png](/images/2019/04/06/7b7dee90-581c-11e9-b771-0953c0a9891c.png)

  2. 等待gradle下载依赖。

  3. 对application.yml进行配置

  配置mysql环境和账号密码。

  将数据库创建好后，把jpa.hibernate.ddl-auto设置为create，点击运行即可自动构建数据库。

  ## 项目结构

  ![image.png](/images/2019/04/06/7b3a3960-581d-11e9-b771-0953c0a9891c.png)

  ## 接口信息

  采用Restful风格的API，可以使用浏览器对照[线上环境](https://qr.nobler.xyz/#/login?redirect=%2Fdashboard)来了解接口情况。也可以在Postman中导入附件提供的Postman的Collections来了解。

  ![image.png](/images/2019/04/06/4e69e980-582c-11e9-b771-0953c0a9891c.png)

  主要collection `QRsignin.postman_collection.json`

  更新collection `QRsignin Update 1-18.postman_collection.json`

  ## 后端如何部署

  以部署在Ubuntu server为例

  服务器需要有的环境：Java、JDK、Nginx

  1. 生成Jar包

  ![image.png](/images/2019/04/06/f7a416a0-581e-11e9-b771-0953c0a9891c.png)

  2. 使用SFTP等工具上传到服务器。

  3. 在服务器中运行jar包，可以使用nohup等工具后台运行，示例命令:
   `nohup java -jar qr_signin_server-0.0.1-SNAPSHOT.jar`
  4. 可以打开`nohup.out`查看运行log。

  ## 前端如何部署

  ### 构建项目
   进入前端项目文件夹，终端运行：
  `npm install`

  `npm run build`。

  npm run
  build打包成功后会在dist目录下生成index.html和static文件夹，将dist下所有文件复制到服务器中Nginx的资源目录下.例如`/var/www/html/`。

  ### 配置Nginx（HTTP服务器）

  #### 配置https

  利用[Let's
  Encrypt](https://letsencrypt.org/)免费CA和[Certbot](https://certbot.eff.org/)自动化构建工具，快速添加SSL。详细内容请点击链接。

  #### 解决跨域问题

  在nginx的配置文件(一般在`/etc/nginx/sites-availabe`)中修改server的内容。 

  详细内容百度搜索[利用nginx反向代理解决跨域问题](https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&tn=baidu&wd=%E5%88%A9%E7%94%A8nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98&oq=%25E5%2588%25A9%25E7%2594%25A8nginx%25E5%258F%258D%25E5%2590%2591%25E4%25BB%25A3%25E7%2590%2586&rsv_pq=a2c369b3000b85cb&rsv_t=6906JfiLLH56z%2BX73FdEXMeGhxv%2Bph228gyUZCxMjU1jCQTeOomloe%2B%2Bpyc&rqlang=cn&rsv_enter=1&inputT=4556&rsv_sug3=60&rsv_sug1=3&rsv_sug7=100&rsv_sug2=0&rsv_sug4=4875)

  我的配置如下。

  ```
       location /apis {
          rewrite  ^.+apis/?(.*)$ /$1 break;
          include  uwsgi_params;
           proxy_pass   http://qr.nobler.xyz:8082;
          }
  ```

  ## 关于小程序

  1. 由于微信的规定，小程序的后台必须使用域名和采用https协议和443端口。由于国内的规定，需要对域名和服务器备案，具体如何备案，请查阅云服务厂商官网。

  2.
  代码中调用过部分微信小程序的API，详情查阅[微信小程序API文档](https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/qr-code.html)。

  ## 代码注释

  代码结构比较简单，代码量也不大，没有复杂操作，直接对每个RestfulAPI依次阅读即可。如有不懂可以[邮箱交流](mailto:AaronWang1129@gmail.com)。




    [1]: https://book.douban.com/subject/26857423/
    [2]: https://www.imooc.com/search/?words=springboot
categories: []
toc: false
date: 2019-04-06 14:37:49
---

## 写在前面
本系统后端开发比较简单，但继续开发还是需要至少学习过以下基本知识才能阅读代码。
### Spring Boot、JPA
入门资料：
[Spring Boot实战][1]
[慕课的课程][2]
### 简单MySQL操作
## 配置项目运行环境
以IDEA举例
1. 导入项目
![image.png](/images/2019/04/06/35a25370-581c-11e9-b771-0953c0a9891c.png)
![image.png](/images/2019/04/06/7b7dee90-581c-11e9-b771-0953c0a9891c.png)
2. 等待gradle下载依赖。
3. 对application.yml进行配置
配置mysql环境和账号密码。
将数据库创建好后，把jpa.hibernate.ddl-auto设置为create，点击运行即可自动构建数据库。
## 项目结构
![image.png](/images/2019/04/06/7b3a3960-581d-11e9-b771-0953c0a9891c.png)
## 接口信息
采用Restful风格的API，可以使用浏览器对照[线上环境](https://qr.nobler.xyz/#/login?redirect=%2Fdashboard)来了解接口情况。也可以在Postman中导入附件提供的Postman的Collections来了解。
![image.png](/images/2019/04/06/4e69e980-582c-11e9-b771-0953c0a9891c.png)
主要collection `QRsignin.postman_collection.json`
更新collection `QRsignin Update 1-18.postman_collection.json`
## 后端如何部署
以部署在Ubuntu server为例
服务器需要有的环境：Java、JDK、Nginx
1. 生成Jar包
![image.png](/images/2019/04/06/f7a416a0-581e-11e9-b771-0953c0a9891c.png)
2. 使用SFTP等工具上传到服务器。
3. 在服务器中运行jar包，可以使用nohup等工具后台运行，示例命令:
 `nohup java -jar qr_signin_server-0.0.1-SNAPSHOT.jar`
4. 可以打开`nohup.out`查看运行log。
## 前端如何部署
### 构建项目
 进入前端项目文件夹，终端运行：
`npm install`
`npm run build`。
npm run build打包成功后会在dist目录下生成index.html和static文件夹，将dist下所有文件复制到服务器中Nginx的资源目录下.例如`/var/www/html/`。
### 配置Nginx（HTTP服务器）
#### 配置https
利用[Let's Encrypt](https://letsencrypt.org/)免费CA和[Certbot](https://certbot.eff.org/)自动化构建工具，快速添加SSL。详细内容请点击链接。
#### 解决跨域问题
在nginx的配置文件(一般在`/etc/nginx/sites-availabe`)中修改server的内容。 
详细内容百度搜索[利用nginx反向代理解决跨域问题](https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&tn=baidu&wd=%E5%88%A9%E7%94%A8nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98&oq=%25E5%2588%25A9%25E7%2594%25A8nginx%25E5%258F%258D%25E5%2590%2591%25E4%25BB%25A3%25E7%2590%2586&rsv_pq=a2c369b3000b85cb&rsv_t=6906JfiLLH56z%2BX73FdEXMeGhxv%2Bph228gyUZCxMjU1jCQTeOomloe%2B%2Bpyc&rqlang=cn&rsv_enter=1&inputT=4556&rsv_sug3=60&rsv_sug1=3&rsv_sug7=100&rsv_sug2=0&rsv_sug4=4875)
我的配置如下。
```
     location /apis {
        rewrite  ^.+apis/?(.*)$ /$1 break;
        include  uwsgi_params;
         proxy_pass   http://qr.nobler.xyz:8082;
        }
```
## 关于小程序
1. 由于微信的规定，小程序的后台必须使用域名和采用https协议和443端口。由于国内的规定，需要对域名和服务器备案，具体如何备案，请查阅云服务厂商官网。
2. 代码中调用过部分微信小程序的API，详情查阅[微信小程序API文档](https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/qr-code.html)。
## 代码注释
代码结构比较简单，代码量也不大，没有复杂操作，直接对每个RestfulAPI依次阅读即可。如有不懂可以[邮箱交流](mailto:AaronWang1129@gmail.com)。




  [1]: https://book.douban.com/subject/26857423/
  [2]: https://www.imooc.com/search/?words=springboot